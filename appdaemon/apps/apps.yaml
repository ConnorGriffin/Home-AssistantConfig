---
lights:
  module: lights
  class: Lights
  constrain_input_boolean: input_boolean.light_automation
  default_max_brightness: 100
  default_min_brightness: 10
  default_brightness_schedule:
    - pct: 75
      start: '9:00:00'
      end: '10:00:00'
    - pct: max_brightness
      start: '12:00:00'
      end: '16:00:00'
    - pct: 70
      start: '18:00:00'
      end: '18:00:00'
    - pct: min_brightness
      start: '21:00:00'
      end: '06:00:00'
  entities:
    - name: connors_office_light
    - name: dianas_office_light
      min_brightness: 8
    - name: hallway_light
      min_brightness: 15
    - name: bedroom_light
      snooze_minutes: 10
      alarms:
        #- hide_switch_from_groups:
        #    - bedroom
        - alarm_groups:
            - alarm1
            - alarm2
            - alarm3
            - alarm4
            - alarm5
            - "Connor's phone"

alarm_clock:
  module: alarm_clock
  class: AlarmClock
  constrain_input_boolean: input_boolean.alarm_clock_automation

low_battery_alert:
  module: battery
  class: LowBattery
  constrain_input_boolean: input_boolean.low_battery_alert
  level: 15
  entities:
    - zwave.front_door_lock

ecobee:
  module: ecobee
  class: Ecobee
  # Not used as an app constraint (constrain_input_boolean), used as a config variable
  constrain_boolean: input_boolean.ecobee_auto_home_away
  ecobee_entity: climate.home
  presence_entity: group.all_devices
  # How long to wait before setting a hold/resume based on presence
  home_delay: 0
  not_home_delay: 120
  climate_modes:
    # When away during these, set a home hold
    usually_home:
      - Home
      - Peak
      - Sleep
    # When home during these, set an away hold
    usually_not_home:
      - Away
    # For documentation purposes only, take no action
    no_action:
      - Pre Peak

presence:
  module: presence
  class: Presence
  constrain_input_boolean: input_boolean.room_presence
  rooms:
    - name: Bedroom
      entity: binary_sensor.bedroom_occupancy
    - name: Connor's Office
      entity: binary_sensor.connor_office_occupancy
    - name: Diana's Office
      entity: binary_sensor.diana_office_occupancy

install_dependencies:
  module: install_deps
  class: InstallDeps
  priority: 0
  packages:
    - lxml